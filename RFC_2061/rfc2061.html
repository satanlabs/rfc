<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129b" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
      <meta name="DC.Identifier" content="urn:ietf:rfc:2061" />
      <meta name="DC.Relation.Replaces" content="RFC1730"/><meta name="DC.Creator" content="M. Crispin"><meta name="DC.Date.Issued" content="December, 1996"/>
       <meta name="DC.Title" content="  IMAP4 Compatibility with IMAP2bis "/>
       <title>RFC 2061:   IMAP4 Compatibility with IMAP2bis </title>    
        

        <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->    <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script><span class="pre noprint docinfo">[<a href="https://www.rfc-editor.org" title="RFC Editor">RFC Home</a>] [<a href=/rfc/rfc2061.txt>TEXT</a>|<a href=/rfc/pdfrfc/rfc2061.txt.pdf>PDF</a>|<a href=/rfc/rfc2061.html>HTML</a>] [<a href='https://datatracker.ietf.org/doc/rfc2061' title='IETF Datatracker information for this document'>Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=2061&submit=rfc" title="IPR disclosures related to this document">IPR</a>]                              </span><br/><span class="pre noprint docinfo">                                                                        </span><br /><span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br /><span class="pre noprint docinfo">                                                                        </span><pre>Network Working Group                                         M. Crispin
Request for Comments: 2061                      University of Washington
Category: Informational                                    December 1996


                   <span class="h1">IMAP4 COMPATIBILITY WITH IMAP2BIS</span>

Status of this Memo

   This memo provides information for the Internet community.  This memo
   does not specify an Internet standard of any kind.  Distribution of
   this memo is unlimited.

Introduction

   The Internet Message Access Protocol (IMAP) has been through several
   revisions and variants in its 10-year history.  Many of these are
   either extinct or extremely rare; in particular, several undocumented
   variants and the variants described in <a href="./rfc1064">RFC 1064</a>, <a href="./rfc1176">RFC 1176</a>, and <a href="./rfc1203">RFC</a>
   <a href="./rfc1203">1203</a> fall into this category.

   One variant, IMAP2bis, is at the time of this writing very common and
   has been widely distributed with the Pine mailer.  Unfortunately,
   there is no definite document describing IMAP2bis.  This document is
   intended to be read along with <a href="./rfc1176">RFC 1176</a> and the most recent IMAP4
   specification (<a href="./rfc2060">RFC 2060</a>) to assist implementors in creating an IMAP4
   implementation to interoperate with implementations that conform to
   earlier specifications.  Nothing in this document is required by the
   IMAP4 specification; implementors must decide for themselves whether
   they want their implementation to fail if it encounters old software.

   At the time of this writing, IMAP4 has been updated from the version
   described in <a href="./rfc1730">RFC 1730</a>.  An implementor who wishes to interoperate
   with both <a href="./rfc1730">RFC 1730</a> and <a href="./rfc2060">RFC 2060</a> should refer to both documents.

   This information is not complete; it reflects current knowledge of
   server and client implementations as well as "folklore" acquired in
   the evolution of the protocol.  It is NOT a description of how to
   interoperate with all variants of IMAP, but rather with the old
   variant that is most likely to be encountered.  For detailed
   information on interoperating with other old variants, refer to <a href="./rfc1732">RFC</a>
   <a href="./rfc1732">1732</a>.

IMAP4 client interoperability with IMAP2bis servers

   A quick way to check whether a server implementation supports the
   IMAP4 specification is to try the CAPABILITY command.  An OK response
   will indicate which variant(s) of IMAP4 are supported by the server.



<span class="grey">Crispin                      Informational                      [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="./rfc2061">RFC 2061</a>                  IMAP4 Compatibility              December 1996</span>


   If the client does not find any of its known variant in the response,
   it should treat the server as IMAP2bis.  A BAD response indicates an
   IMAP2bis or older server.

   Most IMAP4 facilities are in IMAP2bis.  The following exceptions
   exist:

   CAPABILITY command
            The absense of this command indicates IMAP2bis (or older).

   AUTHENTICATE command.
            Use the LOGIN command.

   LSUB, SUBSCRIBE, and UNSUBSCRIBE commands
            No direct functional equivalent.  IMAP2bis had a concept
            called "bboards" which is not in IMAP4.  <a href="./rfc1176">RFC 1176</a> supported
            these with the BBOARD and FIND BBOARDS commands.  IMAP2bis
            augmented these with the FIND ALL.BBOARDS, SUBSCRIBE BBOARD,
            and UNSUBSCRIBE BBOARD commands.  It is recommended that
            none of these commands be implemented in new software,
            including servers that support old clients.

   LIST command
            Use the command FIND ALL.MAILBOXES, which has a similar syn-
            tax and response to the FIND MAILBOXES command described in
            <a href="./rfc1176">RFC 1176</a>.  The FIND MAILBOXES command is unlikely to produce
            useful information.

   * in a sequence
            Use the number of messages in the mailbox from the EXISTS
            unsolicited response.

   SEARCH extensions (character set, additional criteria)
            Reformulate the search request using only the <a href="./rfc1176">RFC 1176</a> syn-
            tax.  This may entail doing multiple searches to achieve the
            desired results.

   BODYSTRUCTURE fetch data item
            Use the non-extensible BODY data item.

   body sections HEADER, TEXT, MIME, HEADER.FIELDS, HEADER.FIELDS.NOT
            Use body section numbers only.

   BODY.PEEK[section]
            Use BODY[section] and manually clear the \Seen flag as
            necessary.





<span class="grey">Crispin                      Informational                      [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="./rfc2061">RFC 2061</a>                  IMAP4 Compatibility              December 1996</span>


   FLAGS.SILENT, +FLAGS.SILENT, and -FLAGS.SILENT store data items
            Use the corresponding non-SILENT versions and ignore the
            untagged FETCH responses which come back.

   UID fetch data item and the UID commands
            No functional equivalent.

   CLOSE command
            No functional equivalent.


   In IMAP2bis, the TRYCREATE special information token is sent as a
   separate unsolicited OK response instead of inside the NO response.

   IMAP2bis is ambiguous about whether or not flags or internal dates
   are preserved on COPY.  It is impossible to know what behavior is
   supported by the server.

IMAP4 server interoperability with IMAP2bis clients

   The only interoperability problem between an IMAP4 server and a
   well-written IMAP2bis client is an incompatibility with the use of
   "\" in quoted strings.  This is best avoided by using literals
   instead of quoted strings if "\" or &lt;"&gt; is embedded in the string.

Security Considerations

   Security issues are not discussed in this memo.

Author's Address

   Mark R. Crispin
   Networks and Distributed Computing
   University of Washington
   4545 15th Aveneue NE
   Seattle, WA  98105-4527

   Phone: (206) 543-5762
   EMail: MRC@CAC.Washington.EDU












Crispin                      Informational                      [Page 3]
</pre>
