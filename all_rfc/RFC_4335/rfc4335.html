<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129b" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
      <meta name="DC.Identifier" content="urn:ietf:rfc:4335" />
      <meta name="DC.Relation.Replaces" content=""/><meta name="DC.Creator" content="J. Galbraith"><meta name="DC.Creator" content="P. Remaker"><meta name="DC.Date.Issued" content="January, 2006"/>
       <meta name="DC.Title" content="The Secure Shell (SSH) Session Channel Break Extension"/>
       <title>RFC 4335: The Secure Shell (SSH) Session Channel Break Extension</title>    
        

        <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->    <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script><span class="pre noprint docinfo">[<a href="https://www.rfc-editor.org" title="RFC Editor">RFC Home</a>] [<a href=/rfc/rfc4335.txt>TEXT</a>|<a href=/rfc/pdfrfc/rfc4335.txt.pdf>PDF</a>|<a href=/rfc/rfc4335.html>HTML</a>] [<a href='https://datatracker.ietf.org/doc/rfc4335' title='IETF Datatracker information for this document'>Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=4335&submit=rfc" title="IPR disclosures related to this document">IPR</a>] [<a class="boldtext" href="/errata/rfc4335" target="_blank">Errata</a>]                     </span><br/><span class="pre noprint docinfo">                                                                        </span><br /><span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br /><span class="pre noprint docinfo">                                                            <span style='color: #C00;'>Errata Exist</span></span><pre>Network Working Group                                       J. Galbraith
Request for Comments: 4335                              VanDyke Software
Category: Standards Track                                     P. Remaker
                                                      Cisco Systems, Inc
                                                            January 2006


         <span class="h1">The Secure Shell (SSH) Session Channel Break Extension</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   The Session Channel Break Extension provides a means to send a BREAK
   signal over a Secure Shell (SSH) terminal session.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Conventions Used in This Document ...............................<a href="#page-2">2</a>
   <a href="#section-3">3</a>. The Break Request ...............................................<a href="#page-3">3</a>
   <a href="#section-4">4</a>. Security Considerations .........................................<a href="#page-4">4</a>
   <a href="#section-5">5</a>. IANA Considerations .............................................<a href="#page-4">4</a>
   <a href="#section-6">6</a>. References ......................................................<a href="#page-4">4</a>
      <a href="#section-6.1">6.1</a>. Normative References .......................................<a href="#page-4">4</a>
      <a href="#section-6.2">6.2</a>. Informative References .....................................<a href="#page-5">5</a>















<span class="grey">Galbraith &amp; Remaker         Standards Track                     [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="./rfc4335">RFC 4335</a>                  SSH Break Extension               January 2006</span>


<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   The Secure Shell (SSH) [<a href="#ref-5" title="&quot;The Secure Shell (SSH) Connection Protocol&quot;">5</a>] session channel provides a mechanism for
   the client-user to interactively enter commands and receive output
   from a remote host while taking advantage of the SSH transport's
   privacy and integrity features.  SSH is increasingly being used to
   replace Telnet for terminal access applications.

   A common application of the Telnet protocol is the "Console Server"
   [<a href="#ref-7" title="&quot;Greater Scroll of Console Knowledge&quot;">7</a>] whereby a Telnet Network Virtual Terminal (NVT) can be connected
   to a physical RS-232/V.24 asynchronous port, making the Telnet NVT
   appear as a locally attached terminal to that port, and making that
   physical port appear as a network-addressable device.  A number of
   major computer equipment vendors provide high-level administrative
   functions through an asynchronous serial port and generally expect
   the attached terminal to be capable of sending a BREAK signal.

   A BREAK signal is defined as the TxD signal being held in a SPACE
   ("0") state for a time greater than a whole character time.  In
   practice, a BREAK signal is typically 250 to 500 ms in length.

   The Telnet protocol furnishes a means to send a "BREAK" signal, which
   <a href="./rfc854">RFC 854</a> [<a href="#ref-1" title="&quot;Telnet Protocol Specification&quot;">1</a>] defines as "a signal outside the USASCII set which is
   currently given local meaning within many systems".  Console Server
   vendors interpret the TELNET BREAK signal as a physical BREAK signal,
   which can then allow access to the full range of administrative
   functions available on an asynchronous serial console port.

   The lack of a similar facility in the SSH session channel has forced
   users to continue the use of Telnet for the "Console Server"
   function.

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Conventions Used in This Document</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [<a href="#ref-2" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">2</a>].

   The "byte", "boolean", "uint32", and "string" data types are defined
   in [<a href="#ref-3" title="&quot;The Secure Shell (SSH) Protocol Architecture&quot;">3</a>].











<span class="grey">Galbraith &amp; Remaker         Standards Track                     [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="./rfc4335">RFC 4335</a>                  SSH Break Extension               January 2006</span>


<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  The Break Request</span>

   The following channel-specific request can be sent over a session
   channel (as described in [<a href="#ref-4" title="&quot;The Secure Shell (SSH) Transport Layer Protocol&quot;">4</a>]) to request that the remote host perform
   a BREAK operation.

        byte      SSH_MSG_CHANNEL_REQUEST
        uint32    recipient channel
        string    "break"
        boolean   want_reply
        uint32    break-length in milliseconds

   If the BREAK length cannot be controlled by the application receiving
   this request, the BREAK length parameter SHOULD be ignored and the
   default BREAK signal length of the chipset or underlying chipset
   driver SHOULD be sent.

   If the application receiving this request can control the BREAK
   length, the following suggestions are made regarding BREAK duration.
   If a BREAK duration request of greater than 3000 ms is received, it
   SHOULD be interpreted as a request for a 3000 ms BREAK.  This
   safeguard prevents an unreasonably long BREAK request from causing a
   port to become unavailable for as long as 49.7 days while executing
   the BREAK.  Applications that require a longer BREAK may choose to
   ignore this suggestion.  If BREAK duration request of less than 500
   ms is received, it SHOULD be interpreted as a 500 ms BREAK since most
   devices will recognize a BREAK of that length.  Applications that
   require a shorter BREAK may choose to ignore this suggestion.  If the
   BREAK length parameter is 0, the BREAK SHOULD be interpreted as the
   default BREAK signal length of the chipset or underlying chipset
   driver.  If no default exists, 500 ms can be used as the BREAK
   length.

   If the SSH connection does not terminate on a physical serial port,
   the BREAK indication SHOULD be handled in a manner consistent with
   the general use of BREAK as an attention/interrupt signal; for
   instance, a service processor that requires an out-of-band facility
   to get the attention of a system it manages.

   In a case where an SSH connection cascades to another connection, the
   BREAK SHOULD be passed along the cascaded connection.  For example, a
   Telnet session from an SSH shell should carry along an SSH-initiated
   BREAK, and an SSH client initiated from a Telnet connection SHOULD
   pass a BREAK indication from the Telnet connection.







<span class="grey">Galbraith &amp; Remaker         Standards Track                     [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="./rfc4335">RFC 4335</a>                  SSH Break Extension               January 2006</span>


   If the 'want_reply' boolean is set, the server MUST reply using an
   SSH_MSG_CHANNEL_SUCCESS or SSH_MSG_CHANNEL_FAILURE [<a href="#ref-5" title="&quot;The Secure Shell (SSH) Connection Protocol&quot;">5</a>] message.  If a
   BREAK of any kind was preformed, SSH_MSG_CHANNEL_SUCCESS MUST be
   sent.  If no BREAK was preformed, SSH_MSG_CHANNEL_FAILURE MUST be
   sent.

   This operation SHOULD be supported by any general purpose SSH client.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Security Considerations</span>

   Many computer systems treat serial consoles as local and secured, and
   interpret a BREAK signal as an instruction to halt execution of the
   operating system or to enter privileged configuration modes.  Because
   of this, extra care should be taken to ensure that SSH access to
   BREAK-enabled ports are limited to users with appropriate privileges
   to execute such functions.  Alternatively, support for the BREAK
   facility MAY be implemented as configurable on a per-port or
   per-server basis.

   Implementations that literally interpret the BREAK length parameter
   without imposing the suggested BREAK time limit may cause a denial of
   service to or unexpected results from attached devices receiving the
   very long BREAK signal.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  IANA Considerations</span>

   IANA has assigned the Connection Protocol Channel Request Name
   "break" in accordance with [<a href="#ref-6" title="&quot;The Secure Shell (SSH) Protocol Assigned Numbers&quot;">6</a>].

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  References</span>

<span class="h3"><a class="selflink" id="section-6.1" href="#section-6.1">6.1</a>.  Normative References</span>

   [<a id="ref-1">1</a>]  Postel, J. and J. Reynolds, "Telnet Protocol Specification",
        STD 8, <a href="./rfc854">RFC 854</a>, May 1983.

   [<a id="ref-2">2</a>]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>, March 1997.

   [<a id="ref-3">3</a>]  Ylonen, T. and C. Lonvick, Ed., "The Secure Shell (SSH) Protocol
        Architecture", <a href="./rfc4251">RFC 4251</a>, January 2006.

   [<a id="ref-4">4</a>]  Ylonen, T. and C. Lonvick, Ed., "The Secure Shell (SSH)
        Transport Layer Protocol", <a href="./rfc4253">RFC 4253</a>, January 2006.

   [<a id="ref-5">5</a>]  Ylonen, T. and C. Lonvick, Ed., "The Secure Shell (SSH)
        Connection Protocol", <a href="./rfc4254">RFC 4254</a>, January 2006.




<span class="grey">Galbraith &amp; Remaker         Standards Track                     [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="./rfc4335">RFC 4335</a>                  SSH Break Extension               January 2006</span>


   [<a id="ref-6">6</a>]  Lehtinen, S. and C. Lonvick, Ed., "The Secure Shell (SSH)
        Protocol Assigned Numbers", <a href="./rfc4250">RFC 4250</a>, January 2006.

<span class="h3"><a class="selflink" id="section-6.2" href="#section-6.2">6.2</a>.  Informative References</span>

   [<a id="ref-7">7</a>]  Harris, D., "Greater Scroll of Console Knowledge", March 2004,
        &lt;<a href="http://www.conserver.com/consoles/">http://www.conserver.com/consoles/</a>&gt;.

Authors' Addresses

   Joseph Galbraith
   VanDyke Software
   4848 Tramway Ridge Blvd
   Suite 101
   Albuquerque, NM  87111
   US

   Phone: +1 505 332 5700
   EMail: galb-list@vandyke.com


   Phillip Remaker
   Cisco Systems, Inc
   170 West Tasman Drive
   San Jose, CA  95120
   US

   Phone: +1 408 526 8614
   EMail: remaker@cisco.com






















<span class="grey">Galbraith &amp; Remaker         Standards Track                     [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="./rfc4335">RFC 4335</a>                  SSH Break Extension               January 2006</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2006).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and <a href="https://www.rfc-editor.org/bcp/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).







Galbraith &amp; Remaker         Standards Track                     [Page 6]
</pre>
