<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129b" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
      <meta name="DC.Identifier" content="urn:ietf:rfc:1073" />
      <meta name="DC.Relation.Replaces" content=""/><meta name="DC.Creator" content="D. Waitzman"><meta name="DC.Date.Issued" content="October, 1988"/>
       <meta name="DC.Title" content=" Telnet window size option "/>
       <title>RFC 1073:  Telnet window size option </title>    
        

        <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->    <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script><span class="pre noprint docinfo">[<a href="https://www.rfc-editor.org" title="RFC Editor">RFC Home</a>] [<a href=/rfc/rfc1073.txt>TEXT</a>|<a href=/rfc/pdfrfc/rfc1073.txt.pdf>PDF</a>|<a href=/rfc/rfc1073.html>HTML</a>] [<a href='https://datatracker.ietf.org/doc/rfc1073' title='IETF Datatracker information for this document'>Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=1073&submit=rfc" title="IPR disclosures related to this document">IPR</a>]                              </span><br/><span class="pre noprint docinfo">                                                                        </span><br /><span class="pre noprint docinfo">                                                       PROPOSED STANDARD</span><br /><span class="pre noprint docinfo">                                                                        </span><pre>Network Working Group                                        D. Waitzman
Request For Comments: 1073                                       BBN STC
                                                            October 1988

                       <span class="h1">Telnet Window Size Option</span>

Status of this Memo

   This RFC describes a proposed Telnet option to allow a client to
   convey window size to a Telnet server.  Distribution of this memo is
   unlimited.

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>. Command Name and Option Code</span>

      Name = NAWS (Negotiate About Window Size)

      Code = 31

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>. Command Meanings</span>

      IAC WILL NAWS

         Sent by the Telnet client to suggest that NAWS be used.

      IAC WON'T NAWS

         Sent by the Telnet client to refuse to use NAWS.

      IAC DO NAWS

         Sent by the Telnet server to suggest that NAWS be used.

      IAC DON'T NAWS

         Sent by the Telnet server to refuse to use NAWS.

      IAC SB NAWS &lt;16-bit value&gt; &lt;16-bit value&gt; IAC SE

         Sent by the Telnet client to inform the Telnet server of the
         window width and height.

   The window size information is conveyed via this option from the
   Telnet client to the Telnet server.  The information is advisory.
   The server may accept the option, but not use the information that is
   sent.

   The client and server negotiate sending the window size information
   using the standard Telnet WILL/DO/DON'T/WON'T mechanism.  If the



<span class="grey">Waitzman                                                        [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="./rfc1073">RFC 1073</a>               Telnet Window Size Option            October 1988</span>


   client and server agree, the client may then send a subnegotiation to
   convey the window size.  If the client's window size is later changed
   (for instance, the window size is altered by the user), the client
   may again send the subnegotiation.  Because certain operating
   systems, on which a server may be executing, may not allow the window
   size information to be updated, the server may send a DON'T NAWS to
   the client to forbid further subnegotiation after it was initially
   accepted.  A negotiation loop will not form following these rules.

   The subnegotiation consists of two values, the width and the height
   of the window in characters.  The values are each sent as two bytes,
   in the Internet standard byte and bit order.  This allows a maximum
   window width or height of 65535 characters.  A value equal to zero is
   acceptable for the width (or height), and means that no character
   width (or height) is being sent.  In this case, the width (or height)
   that will be assumed by the Telnet server is operating system
   specific (it will probably be based upon the terminal type
   information that may have been sent using the TERMINAL TYPE Telnet
   option).

   The syntax for the subnegotiation is:

      IAC SB NAWS WIDTH[1] WIDTH[0] HEIGHT[1] HEIGHT[0] IAC SE

   As required by the Telnet protocol, any occurrence of 255 in the
   subnegotiation must be doubled to distinguish it from the IAC
   character (which has a value of 255).

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>. Default Specification</span>

      WON'T NAWS

      DON'T NAWS

   This option does not assume any default window size information.
   Often the terminal type, passed with the TERMINAL TYPE Telnet option,
   may imply a window size, but that is not necessary for this option.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>. Motivation</span>

   With the increasing popularity of windowing systems, a Telnet client
   is often run inside a variable-sized window, and the Telnet server
   needs to know the window size for proper cursor control.  The window
   may also have its size changed during the Telnet session and the
   updated window size needs to be conveyed to the server.  This memo
   specifies an option to send the window height and width in characters
   from a client to a server.




<span class="grey">Waitzman                                                        [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="./rfc1073">RFC 1073</a>               Telnet Window Size Option            October 1988</span>


   The Telnet options Negotiate Output Line Width (NAOL) and Negotiate
   Output Page Size (NAOP) do not have the correct semantics for this
   purpose, and they are not in common use [see <a href="./rfc1011">RFC-1011</a> "Official
   Internet Protocols", and the "Defense Protocol Handbook"].  The NAOL
   and NAOP options are bidirectional (i.e., the server might control
   the client's line width or page size), and are limited to 253
   characters in each axis.

   This option is a better model of the normal window negotiation
   process.  The client has total control over the size of its window
   and simply tells the server what the current window size is.
   Furthermore, the 253 character height and width limitation is too low
   so the new option has a limit of 65535 characters.  Finally, this
   option sends the window height and width concurrently because they
   are typically changed simultaneously and many operating systems and
   windowing applications prefer to think in terms of simultaneous
   changes in height and width.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>. Description and Implementation Notes</span>

   A typical user of this option might be a Telnet client running under
   X.  After a user resizes the client's window, this must be
   communicated to the Telnet client.  In 4.3 BSD Unix, the signal
   SIGWINCH (window changed) might be caught by the Telnet process and a
   new NAWS subnegotiation sent to the server.  Upon receipt of a NAWS
   subnegotiation, the server might do the appropriate ioctl to handle
   the new information, and then could send a SIGWINCH to its child,
   probably a shell.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>. Examples</span>

   In the following examples all numbers in the data stream are in
   decimal.

      1. Server suggest and client agrees to use NAWS.

         (server sends)  IAC DO NAWS
         (client sends)  IAC WILL NAWS
         (client sends)  IAC SB NAWS 0 80 0 24 IAC SE

            [A window 80 characters wide, 24 characters high]
            [some time occurs and the user changes the window size]

         (client sends)  IAC SB NAWS 0 80 0 64 IAC SE

            [A window 80 characters wide, 64 characters high]





<span class="grey">Waitzman                                                        [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="./rfc1073">RFC 1073</a>               Telnet Window Size Option            October 1988</span>


      In all numeric form:

         (server sends)  255 253 31
         (client sends)  255 251 31
         (client sends)  255 250 31 0 80 0 24 255 240

         (client sends)  255 250 31 0 80 0 64 255 240

       2.  Client suggests and server agrees to used NAWS.

         (client sends)  IAC WILL NAWS
         (server sends)  IAC DO NAWS
         (client sends)  IAC SB NAWS 1 44 0 24 IAC SE

            [A window 300 characters wide, 24 characters high]

       3.  Client suggest and server refuses to use NAWS.

         (client sends)  IAC WILL NAWS
         (server sends)  IAC DON'T NAWS

       4.  Server suggests and client refuses to use NAWS.

         (server sends)  IAC DO NAWS
         (client sends)  IAC WON'T NAWS

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>. Acknowledgments</span>

   A more elaborate, X window system specific, version of this option
   has been implemented at Carnegie-Mellon University by Glenn Marcy and
   the author.  It is widely used in the Carnegie-Mellon University
   Computer Science Department.  Mr. Marcy helped write an early draft
   of this memo documenting the more elaborate option.


















Waitzman                                                        [Page 4]
</pre>
