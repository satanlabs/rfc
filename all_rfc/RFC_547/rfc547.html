<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129b" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
      <meta name="DC.Identifier" content="urn:ietf:rfc:547" />
      <meta name="DC.Relation.Replaces" content=""/><meta name="DC.Creator" content="D.C. Walden"><meta name="DC.Date.Issued" content="August, 1973"/>
       <meta name="DC.Title" content=" Change to the Very Distant Host specification "/>
       <title>RFC 547:  Change to the Very Distant Host specification </title>    
        

        <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->    <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script><span class="pre noprint docinfo">[<a href="https://www.rfc-editor.org" title="RFC Editor">RFC Home</a>] [<a href=/rfc/rfc547.txt>TEXT</a>|<a href=/rfc/pdfrfc/rfc547.txt.pdf>PDF</a>|<a href=/rfc/rfc547.html>HTML</a>] [<a href='https://datatracker.ietf.org/doc/rfc547' title='IETF Datatracker information for this document'>Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=547&submit=rfc" title="IPR disclosures related to this document">IPR</a>]                              </span><br/><span class="pre noprint docinfo">                                                                        </span><br /><span class="pre noprint docinfo">                                                                 UNKNOWN</span><br /><span class="pre noprint docinfo">                                                                        </span><pre>Network Working Group                                          D. Walden
Request for Comments: 547                                        BBN-NET
NIC: 17793                                                13 August 1973


             <span class="h1">Change to the Very Distant Host Specification</span>

   Attached is a new version of figure F-4 for BBN Report 1822,
   Specification for the Interconnection of a Host and an IMP.  Also
   attached is replacement text for the paragraph beginning at the
   bottom of page F-7 and continuing through page F-8.

   Please put this RFC with your copy of 1822 pending update of 1822.

   DCW/ph


                   SPECIAL PACKET BIT ___
                                         |
                                         |
      ___HELLO/I-HEARD-YOU BIT           |      ___ UNUSED __
     |                                   |     |             |
     |                                   |     |             |
     V                                   V     V             V
    _______________________________________________________________
   |   |   |                       |   |   |///////|   |   |///|   |
   |   |   |                       |   |   |///////|   |   |///|   |
   |___|___|___|___|___|___|___|___|___|___|///|///|___|___|///|___|
     ^   ^     PACKET WORD COUNT     ^               ^   ^       ^
     |   |         ( 6 BITS )        |               |   |       |
     |   |                           |               |   |    CHANNEL
     |   |                           |               |   |    NUMBER
     |   |                           |               |   |
     |  PACKET                  HOST/IMP BIT         |  CHANNEL ZERO
     |  ODD/EVEN BIT                                 |  ACKNOWLEDGE BIT
     |                                               |
    LAST PACKET BIT                                CHANNEL ONE
                                                   ACKNOWLEDGEMENT BIT

                          FIG. F-4   CONTROL WORD FORMAT











<span class="grey">Walden                                                          [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="./rfc547">RFC 547</a>      Change to the Very Distant Host Specification13 August 1973</span>


   The following algorithm is used to decide whether the circuit between
   an IMP and a very distant Host is dead or alive.  We first define
   what we call a special packet -- this is (logically) a one word
   packet consisting of only the control word and having the SPECIAL
   PACKET bit set to one.  All packets which are not special packets
   (i.e., which are regular data packets or null packets) have the
   SPECIAL PACKET bit set to zero.  In a special packet, none of the
   control word fields or bits have their usual meanings; consequently,
   a special packet cannot be used to acknowledge data packets or send
   data.  In a special packet, only one bit other than the SPECIAL
   PACKET bit has any meaning, the HELLO/I-HEARD-YOU bit.

   Every r seconds both IMP and Host (independently) send a HELLO
   packet, a special packet with the HELLO/I-HEARD-YOU bit set to zero.
   When either IMP or Hosts receives a HELLO packet, it must promptly
   (with highest priority) send the other an I-HEARD-YOU packet, a
   special packet with the HELLO/I-HEAR-YOU bit set to one.  In other
   words, the I-HEARD-YOU packet is an acknowledgement of the periodic
   HELLO packet, and a I-HEARD-YOU packet must only be sent as
   acknowledgement for a HELLO packet.  If either IMP or Host sends more
   than t HELLO packets without receiving an I-HEARD-YOU packet in
   acknowledgement, the IMP or Host declares the line dead.  Once either
   IMP or Host declares the line dead, it must send or accept no packets
   (either special or regular) for 2*t*r* seconds to allow the other
   party also to declare the line dead.  After waiting 2*t*r* seconds,
   an attempt is made to bring the line alive.  This is done by sending
   HELLO packets (but no regular packets) every r seconds while noting
   received I-HEARD-YOU packets until k HELLO packets in a row are
   acknowledged with I-HEARD-YOU packets.  While doing this, received
   HELLO packets must be acknowledged with I-HEARD-YOU packets.  Once
   acknowledgement for k HELLO packets have been received in a row
   (i.e., one acknowledgement every r seconds for k intervals[1]), the
   line is declared alive, and regular packets again may be sent,
   received, and acknowledged along with the periodic (every r seconds)
   HELLO packets.  If a regular data packet is received while a party is
   trying to bring the line up (due perhaps to slight timing differences
   between the parties at the ends of the line), the data packet must
   not be acknowledged.

   The odd/even bits, the used/unused bits, and the channel filling and
   emptying sequences must be initialized at start up[2] and
   reinitialized every time the line is declared dead.  If either the
   IMP or Host decides the line is dead, the same action is taken as the
   IMP or Host normally takes when the other's ready line is down.  The
   line being up causes the same action as is normally taken when the
   ready line is up.  The value of r is currently 1.25 seconds, the
   value of t is currently 4, and the value of k is currently also 4.




<span class="grey">Walden                                                          [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="./rfc547">RFC 547</a>      Change to the Very Distant Host Specification13 August 1973</span>


   It is likely that the values of r, t, and k will be adjusted in the
   future; very distant Host programmers are advised to make it easy to
   change these parameters.

Endnotes

   [<a id="ref-1">1</a>] In particular, the IMP implementation requires the receipt of an
   acknowledgement within r seconds of the transmission of a HELLO
   packet in order to consider that the HELLO packet was successfully
   acknowledged.

   [<a id="ref-2">2</a>] At start-up, the line must be assumed to be dead and the
   procedure of waiting 2*t*r* seconds before sending HELLO packets,
   etc. must be used to bring the line alive initially.


         [ This RFC was put into machine readable form for entry ]
          [ into the online RFC archives by Jeff McClellan 1/98 ]

































Walden                                                          [Page 3]
</pre>
