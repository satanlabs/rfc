<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129b" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
      <meta name="DC.Identifier" content="urn:ietf:rfc:147" />
      <meta name="DC.Relation.Replaces" content=""/><meta name="DC.Creator" content="J.M. Winett"><meta name="DC.Date.Issued" content="May, 1971"/>
       <meta name="DC.Title" content=" Definition of a socket "/>
       <title>RFC 147:  Definition of a socket </title>    
        

        <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->    <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script><span class="pre noprint docinfo">[<a href="https://www.rfc-editor.org" title="RFC Editor">RFC Home</a>] [<a href=/rfc/rfc147.txt>TEXT</a>|<a href=/rfc/pdfrfc/rfc147.txt.pdf>PDF</a>|<a href=/rfc/rfc147.html>HTML</a>] [<a href='https://datatracker.ietf.org/doc/rfc147' title='IETF Datatracker information for this document'>Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=147&submit=rfc" title="IPR disclosures related to this document">IPR</a>]                              </span><br/><span class="pre noprint docinfo">                                                                        </span><br /><span class="pre noprint docinfo">                                                                 UNKNOWN</span><br /><span class="pre noprint docinfo">                                                                        </span><pre>                        Network Working Group


                        Request for Comment 147

                                NIC 6750









                        The Definition of a Socket

                             Joel M. Winett

                            Lincoln Laboratory

                                   360/67

                                7 May 1971


Category: C1, C3, D1, H
RFC obsoleted: None
RFC updated: None
Related RFCs: <a href="./rfc129">RFC-129</a> (NIC-5845)





   This material has not been reviewed for public release and is intended
   only for use with the ARPA network. It should not be quoted or cited
   in any publication not related to the ARPA network.













<span class="grey">                                                                [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey">                 MASSACHUSETTS INSTITUTE OF TECHNOLOGY</span>
                           LINCOLN LABORATORY

TO:      Network Socket Committee and Network Community        7 May 1971

FROM:    J. M. Winett (LL)

SUBJECT: The Definition of a Socket

A socket is defined to be the unique identification to or from which
information is transmitted in the network. The socket is specified as a 32
bit number with even sockets identifying receiving sockets and odd sockets
identifying sending sockets. A socket is also identified by the host in
which the sending or receiving processer is located.

Previous network papers postulated that a process running under control of
the host's operating system would have access to a number of ports. A port
might be a physical input or output device, or a logical I/O device
supported by system calls to the host's operating system.  The latter
category includes a) I/O directed to a physical device which is being
spooled by the operating system, b) a physical device whose basic
characteristics have not been altered but whose access has been limited and
possibly transformed by a mapping algorithm (e.g. device address mapping or
cylinder relocation as in virtual mini disks), c) access to a file system
through a directory and access method maintained by the operating system,
d) a procedure for process to process communications, e) a procedure for
machine to machine communication (such as defined by the network protocol.)

A socket has been defined to be the identification of a port for machine to
machine communication through the ARPA network. Sockets allocated to each
host must be uniquely associated with a known process or be undefined. The
name of some sockets must be universally known and associated with a known
process operating with a specified protocol. (e.g., a logger socket, RJE
socket, a file transfer socket). The name of other sockets might not be
universally known, but given in a transmission over a universally known
socket, (c. g. the socket pair specified by the transmission over the
logger socket under the Initial Connection Protocol (ICP). In any case,
communication over the network is from one socket to another socket, each
socket being identified with a process running at a known host.

The question arises as to whether socket names must be known to users of
network programs or whether the specification of sockets can be made
transparent to the user. Also, should the socket used at one time by a
process be the same socket used at a later time by the same process for the
same purpose? If sockets are not transparent to the user, then the sockets
used must not be dependent on the order in which network connections are
made.




<span class="grey">                                                                [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey">Network Socket Committee and Network Community        7 May 1971</span>

The definition of a socket is also related to the accounting procedures
followed for network usage.  Network Control Programs (NCPs) should log
each connection made and record the time the connection was made, the time
the connection was closed, the number of messages and number of bits
transmitted over the connection, the sending and receiving hosts, and the
sockets at the sending host and receiving host which participated in the
connection. In order for these sockets to be meaningful, they should be
identifiable with the user, account, or process name with which each socket
is associated.

It has previously been suggested that the sockets used by a network user be
identified with that user no matter which host he used for network
communications. Users would be registered at some host and be identified as
a user from that host even if he used the system as a second host to
communicate with the system at a third host.

To satisfy the above requirements within the name space of a 32 bit socket,
the following procedure is suggested. This procedure has been implemented
with the NCP on the Lincoln Laboratory 360/67 system and is used by all
processes making use of network facilities. ) A 32 bit socket is divided
into an 8 bit "home" field, a 16 bit "user" field and an 8 bit "tag" field.
The tag consists of a 7 bit "plug" and a one bit "polarity" where a "0"
polarity indicates a receive socket and a "1" polarity indicates a send
socket. Thus a user on one host system may run processes with up to 128
send sockets and 128 receive sockets.  This procedure allows for 256 hosts
and 65,536 users per host.  The only difficulty is in mapping user or
process identifiers at a host into a 16 bit user number. This may be done
through a table lookup, possibly using a hash coding technique.  Though
many systems have a unique run time index associated with each process, if
this index were used as the user number, the user number would not be the
same each time the process were used for network activity.  What is
required, is a unique mapping from a process identifier (usually a
character string) into a 16 bit binary number.

The sockets used for facilities following a common network protocol, such
as the ICP, should also follow this socket definition. Thus the logger
socket at the Lincoln Laboratory 360/67 would be, and is, x'0A0000 01, ',
i.e. home 10, user 0, and tag 1.

This procedure for defining sockets enables an accounting procedure for
identifying users of network facilities and for measuring network usage.

       [ This RFC was put into machine readable form for entry ]
       [ into the online RFC archives by BBN Corp. under the   ]
       [ direction of Alex McKenzie.                   12/96   ]




                                                                [Page 3]
</pre>
