<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.129b" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
      <meta name="DC.Identifier" content="urn:ietf:rfc:1581" />
      <meta name="DC.Relation.Replaces" content=""/><meta name="DC.Creator" content="G. Meyer"><meta name="DC.Date.Issued" content="February, 1994"/>
       <meta name="DC.Title" content=" Protocol Analysis for Extensions to RIP to Support Demand Circuits "/>
       <title>RFC 1581:  Protocol Analysis for Extensions to RIP to Support Demand Circuits </title>    
        

        <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->    <script type="text/javascript"><!--
    function addHeaderTags() {
        var spans = document.getElementsByTagName("span");
        for (var i=0; i < spans.length; i++) {
            var elem = spans[i];
            if (elem) {
                var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";               
                }
            }
        }
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script><span class="pre noprint docinfo">[<a href="https://www.rfc-editor.org" title="RFC Editor">RFC Home</a>] [<a href=/rfc/rfc1581.txt>TEXT</a>|<a href=/rfc/pdfrfc/rfc1581.txt.pdf>PDF</a>|<a href=/rfc/rfc1581.html>HTML</a>] [<a href='https://datatracker.ietf.org/doc/rfc1581' title='IETF Datatracker information for this document'>Tracker</a>] [<a href="https://datatracker.ietf.org/ipr/search/?rfc=1581&submit=rfc" title="IPR disclosures related to this document">IPR</a>]                              </span><br/><span class="pre noprint docinfo">                                                                        </span><br /><span class="pre noprint docinfo">                                                           INFORMATIONAL</span><br /><span class="pre noprint docinfo">                                                                        </span><pre>Network Working Group                                           G. Meyer
Request for Comments: 1581                                Spider Systems
Category: Informational                                    February 1994


   <span class="h1">Protocol Analysis for Extensions to RIP to Support Demand Circuits</span>

Status of this Memo

   This document provides information for the Internet community.  This
   document does not specify an Internet standard of any kind.
   Distribution of this document is unlimited.

Abstract

   As required by Routing Protocol Criteria [<a href="#ref-1" title="&quot;Internet Engineering Task Force Internet Routing Protocol Standardization Criteria&quot;">1</a>], this report documents
   the key features of Routing over Demand Circuits on Wide Area
   Networks - RIP [<a href="#ref-2" title="&quot;Extensions to RIP to Support Demand Circuits&quot;">2</a>] and the current implementation experience.

Acknowledgements

   I would like to thank colleagues at Spider, in particular Richard
   Edmonstone and Alan Turland who developed Spider's IP RIP and IPX RIP
   and SAP implementations.

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>. Protocol Documents</span>

   "Extensions to RIP to Support Demand Circuits" [<a href="#ref-2" title="&quot;Extensions to RIP to Support Demand Circuits&quot;">2</a>] suggests an
   enhancement to the "Routing Internet Protocol" (RIP) [<a href="#ref-3" title="&quot;Routing Information Protocol&quot;">3</a>] and "RIP-2"
   [<a href="#ref-4" title="&quot;RIP Version 2 - Carrying Additional Information&quot;">4</a>] to allow them to run more cost-effectively on Wide Area Networks
   (WANs).  Network management extensions for Demand RIP are described
   in RIP Version 2 MIB Extensions [<a href="#ref-5" title="&quot;RIP Version 2 MIB Extensions&quot;">5</a>].

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>. Applicability</span>

   Demand RIP requires that there is an underlying mechanism for
   determining unreachability in a finite predictable period.

   The demand extensions to RIP are particularly appropriate for WANs
   where the cost - either financial or packet overhead - would make
   periodic transmission of routing (or service advertising) updates
   unacceptable:

   o  Connection oriented Public Data Networks - for example X.25 packet
      switched networks or ISDN.

   o  Point-to-point links supporting PPP link quality monitoring or
      echo request to determine link failure.



<span class="grey">Meyer                                                           [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="./rfc1581">RFC 1581</a>                       Demand RIP                  February 1994</span>


   A demand RIP implementation runs standard RIP on Local Area Networks
   (LANs) allowing them to interoperate transparently with
   implementations adhering to the original specifications.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>. Key Features</span>

   The proposal shares the same basic algorithms as RIP or RIP-2 when
   running on LANs or fixed point-to-point links; Packet formats,
   broadcast frequency, triggered update operation and database timeouts
   are all unmodified.

   The new features operate on WANs which use switched circuits on
   demand to achieve intermittent connectivity.  Instead of using
   periodic 'broadcasts', information is only sent as triggered updates.
   The proposal makes use of features of the underlying connection
   oriented service to provide feedback on connectivity.

<span class="h3"><a class="selflink" id="section-3.1" href="#section-3.1">3.1</a> Triggered Updates</span>

   Updates are only sent on the WAN when an event changes the routing
   database.  Each update is retransmitted until acknowledged.
   Information received in an update is not timed out.

   The packet format of a RIP response is modified (with a different
   unique command field) to include sequence and fragment number
   information.  An acknowledgement packet is also defined.

<span class="h3"><a class="selflink" id="section-3.2" href="#section-3.2">3.2</a> Circuit Manager</span>

   The circuit manager running below the IP network layer is responsible
   for establishing a circuit to the next hop router whenever there is
   data (or a routing update) to transfer.  After a period of inactivity
   the circuit will be closed by the circuit manager.

   If the circuit manager fails to make a connection a circuit down
   indication is sent to the routing application.  The circuit manager
   will then attempt at (increasing) intervals to establish a
   connection.  When successful a circuit up indication is sent to the
   routing application.

<span class="h3"><a class="selflink" id="section-3.3" href="#section-3.3">3.3</a> Presumption of Reachability</span>

   In a stable network there is no requirement to propagate routing
   information on a circuit, so if no routing information is (being)
   received on a circuit it is assumed that:






<span class="grey">Meyer                                                           [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="./rfc1581">RFC 1581</a>                       Demand RIP                  February 1994</span>


   o  The most recently received information is accurate.

   o  The intervening path is operational (although there may be no
      current connection).

   If the circuit manager determines that the intervening path is NOT
   operational routing information previously received on that circuit
   is timed out.  It is worth stressing that it can be ANY routed
   datagram which triggers the event.

   When the circuit manager re-establishes a connection, the application
   exchanges full routing information with its peer.

<span class="h3"><a class="selflink" id="section-3.4" href="#section-3.4">3.4</a> Routing Information Flow Control</span>

   If the circuit manager reports a circuit as down, the routing
   application is flow controlled from sending further information on
   the circuit.

   To prevent transmit queue overflow and also to avoid 'predictable'
   circuit down messages, the routing application can also optionally
   limit the rate of sending routing messages to an interface.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>. Implementations</span>

   At this stage there is only believed to be one completed
   implementation.

   The Spider Systems' implementation supports all the features outlined
   for IP RIP-1, IPX RIP and IPX SAP.  RIP-2 is not currently supported.
   It has been tested against itself on X.25 and ISDN WANs.  It has also
   been tested in operation with various router and host RIP-1, IPX RIP
   and IPX SAP implementations on Ethernet LANs.

   Two other Novell-only implementations are known to be under
   development.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>. Restrictions</span>

   Demand RIP relies on the ability to place a call in either direction.
   Some dialup services - for example DTR dialing - allow calls to be
   made in one direction only.

   Demand RIP can not operate with third-party advertisement of routes
   on the WAN.  The next hop IP address in RIP-2 should always be
   0.0.0.0 for any routes advertised on the WAN.





<span class="grey">Meyer                                                           [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="./rfc1581">RFC 1581</a>                       Demand RIP                  February 1994</span>


<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>. Security Considerations</span>

   Security is provided through authentication of the logical and
   physical address of the sender of the routing update.  Incoming call
   requests are matched by the circuit manager against a list of
   physical addresses (used to make outgoing calls).  The routing
   application makes a further check against the logical address of an
   incoming update.

   Additional security can be provided by RIP-2 authentication [<a href="#ref-2" title="&quot;Extensions to RIP to Support Demand Circuits&quot;">2</a>] where
   appropriate.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>. References</span>

   [<a id="ref-1">1</a>] Hinden, R., "Internet Engineering Task Force Internet Routing
       Protocol Standardization Criteria", <a href="./rfc1264">RFC 1264</a>, Bolt Beranek and
       Newman, Inc, October 1991.

   [<a id="ref-2">2</a>] Meyer. G., "Extensions to RIP to Support Demand Circuits", <a href="./rfc1582">RFC</a>
       <a href="./rfc1582">1582</a>, Spider Systems, February 1994.

   [<a id="ref-3">3</a>] Hedrick. C., "Routing Information Protocol", STD 34, <a href="./rfc1058">RFC 1058</a>,
       Rutgers University, June 1988.

   [<a id="ref-4">4</a>] Malkin. G., "RIP Version 2 - Carrying Additional Information",
       <a href="./rfc1388">RFC 1388</a>, Xylogics, January 1993.

   [<a id="ref-5">5</a>] Malkin. G., and F. Baker, "RIP Version 2 MIB Extensions", <a href="./rfc1389">RFC</a>
       <a href="./rfc1389">1389</a>, Xylogics, ACC, January 1993.

Author's  Address

       Gerry Meyer
       Spider Systems
       Stanwell Street
       Edinburgh EH6 5NG
       Scotland, UK

       Phone: (UK) 31 554 9424
       Fax:   (UK) 31 554 0649
       EMail: gerry@spider.co.uk










Meyer                                                           [Page 4]
</pre>
